@page "/createperson"
@inject IPersonDataService personData 

<h1>Create Person</h1>
<div class="row">
    <div class="col-md-4">
    <EditForm Model ="@person" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
            <div class="form-group mt-2">
        <label> First Name </label>
        <InputText class="form-control" @bind-Value="person.FirstName" />
    </div>
            <div class="form-group mt-2">
        <label> Last Name </label>
        <InputText class="form-control" @bind-Value="person.LastName" />
    </div>
            <div class="form-group mt-2">
        <label> Date of Birth </label>
        <InputDate class="form-control" @bind-Value="person.DateOfBirth" />
    </div>
    <button class="btn btn-primary mt-4" type="submit"> Create Person</button>

</EditForm>
    </div>
</div>

@code {
    private IPersonModel person = new DisplayPersonModel();

    private async Task HandleValidSubmit()
    {
        await personData.CreatePerson(person);
        person = new DisplayPersonModel();
    }

}
